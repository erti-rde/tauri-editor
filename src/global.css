@import 'tailwindcss';
@plugin 'tailwindcss-animate';

:root {
	--footer-status-bar-height: theme('space.6');
	--hover-color: theme('colors.orange.200');
	--border-color: theme('colors.slate.400');
	--toolbar-l: theme('space.10');

	--color-teal-50: #f0fdfa;
	--color-teal-100: #ccfbf1;
	--color-teal-200: #99f6e4;
	--color-teal-300: #5eead4;
	--color-teal-400: #2dd4bf;
	--color-teal-500: #14b8a6;
	--color-teal-600: #0fb5a2;
	--color-teal-700: #08919b;
	--color-teal-800: #047481;
	--color-teal-900: #065666;
	--color-orange-50: #fff9ed;
	--color-orange-100: #fef2d6;
	--color-orange-200: #fce0ac;
	--color-orange-300: #f9c978;
	--color-orange-400: #f7b155;
	--color-orange-500: #f38d1c;
	--color-orange-600: #e47312;
	--color-orange-700: #bd5711;
	--color-orange-800: #964516;
	--color-orange-900: #793a15;
	--color-orange-950: #411c09;

	--background: var(--color-orange-100);
	--background-alt: var(--color-orange-100);
	--foreground: hsl(0 0% 9%);
	--foreground-alt: hsl(0 0% 32%);
	--muted: hsl(240 5% 96%);
	--muted-foreground: hsla(0 0% 9% / 0.4);
	--border: hsl(240 6% 10%);
	--border-input: hsla(240 6% 10% / 0.17);
	--border-input-hover: hsla(240 6% 10% / 0.4);
	--border-card: hsla(240 6% 10% / 0.1);
	--dark: hsl(240 6% 10%);
	--dark-10: hsla(240 6% 10% / 0.1);
	--dark-40: hsla(240 6% 10% / 0.4);
	--dark-04: hsla(240 6% 10% / 0.04);
	--accent: hsl(204 94% 94%);
	--accent-foreground: hsl(204 80% 16%);
	--destructive: hsl(347 77% 50%);
	--tertiary: hsl(37.7 92.1% 50.2%);
	--line: hsl(0 0% 100%);

	/* black */
	--contrast: hsl(0 0% 0%);

	/* Shadows */
	--shadow-mini: 0px 1px 0px 1px rgba(0, 0, 0, 0.04);
	--shadow-mini-inset: 0px 1px 0px 0px rgba(0, 0, 0, 0.04) inset;
	--shadow-popover: 0px 7px 12px 3px hsla(var(--dark-10));
	--shadow-kbd: 0px 2px 0px 0px rgba(0, 0, 0, 0.07);
	--shadow-btn: 0px 1px 0px 1px rgba(0, 0, 0, 0.03);
	--shadow-card: 0px 2px 0px 1px rgba(0, 0, 0, 0.04);
	--shadow-date-field-focus: 0px 0px 0px 3px rgba(24, 24, 27, 0.17);
}
@theme {
	--color-background: var(--background);
	--color-background-alt: var(--background-alt);
	--color-foreground: var(--foreground);
	--color-foreground-alt: var(--foreground-alt);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-border: var(--border-card);
	--color-border-input: var(--border-input);
	--color-border-input-hover: var(--border-input-hover);
	--color-border-card: var(--border-card);
	--color-dark: var(--dark);
	--color-dark-10: var(--dark-10);
	--color-dark-40: var(--dark-40);
	--color-dark-04: var(--dark-04);
	--color-accent: var(--accent);
	--color-accent-foreground: var(--accent-foreground);
	--color-destructive: var(--destructive);
	--color-tertiary: var(--tertiary);
	--color-line: var(--line);
	--color-contrast: var(--contrast);

	--shadow-mini: var(--shadow-mini);
	--shadow-mini-inset: var(--shadow-mini-inset);
	--shadow-popover: var(--shadow-popover);
	--shadow-kbd: var(--shadow-kbd);
	--shadow-btn: var(--shadow-btn);
	--shadow-card: var(--shadow-card);
	--shadow-date-field-focus: var(--shadow-date-field-focus);

	--text-xxs: 10px;

	--radius-card: 16px;
	--radius-card-lg: 20px;
	--radius-card-sm: 10px;
	--radius-input: 9px;
	--radius-button: 5px;
	--radius-5px: 5px;
	--radius-9px: 9px;
	--radius-10px: 10px;
	--radius-15px: 15px;

	--spacing-input: 3rem;
	--spacing-input-sm: 2.5rem;

	--breakpoint-desktop: 1440px;

	--animate-caret-blink: caret-blink 1s ease-out infinite;
	--animate-scale-in: scale-in 0.2s ease;
	--animate-scale-out: scale-out 0.15s ease;
	--animate-fade-in: fade-in 0.2s ease;
	--animate-fade-out: fade-out 0.15s ease;
	--animate-enter-from-left: enter-from-left 0.2s ease;
	--animate-enter-from-right: enter-from-right 0.2s ease;
	--animate-exit-to-left: exit-to-left 0.2s ease;
	--animate-exit-to-right: exit-to-right 0.2s ease;

	@keyframes caret-blink {
		0%,
		70%,
		100% {
			opacity: 1;
		}
		20%,
		50% {
			opacity: 0;
		}
	}
	@keyframes enter-from-right {
		from {
			opacity: 0;
			transform: translateX(200px);
		}
		to {
			opacity: 1;
			transform: translateX(0);
		}
	}

	@keyframes enter-from-left {
		from {
			opacity: 0;
			transform: translateX(-200px);
		}
		to {
			opacity: 1;
			transform: translateX(0);
		}
	}

	@keyframes exit-to-right {
		from {
			opacity: 1;
			transform: translateX(0);
		}
		to {
			opacity: 0;
			transform: translateX(200px);
		}
	}

	@keyframes exit-to-left {
		from {
			opacity: 1;
			transform: translateX(0);
		}
		to {
			opacity: 0;
			transform: translateX(-200px);
		}
	}

	@keyframes scale-in {
		from {
			opacity: 0;
			transform: rotateX(-10deg) scale(0.9);
		}
		to {
			opacity: 1;
			transform: rotateX(0deg) scale(1);
		}
	}

	@keyframes scale-out {
		from {
			opacity: 1;
			transform: rotateX(0deg) scale(1);
		}
		to {
			opacity: 0;
			transform: rotateX(-10deg) scale(0.95);
		}
	}

	@keyframes fade-in {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	@keyframes fade-out {
		from {
			opacity: 1;
		}
		to {
			opacity: 0;
		}
	}

}

@layer components {
	h1,
	.h1 {
		@apply text-5xl leading-snug font-semibold;
	}

	h2,
	.h2 {
		@apply text-3xl leading-relaxed font-semibold;
	}

	h3,
	.h3 {
		@apply text-xl leading-relaxed font-medium tracking-tight;
	}

	p,
	.p {
		@apply text-lg leading-relaxed;
	}
}
* {
	box-sizing: border-box;
}
html {
	overscroll-behavior: none;
	background-color: var(--color-orange-50);
}
body {
	@apply antialiased;
}

.editor {
	[data-type='citation'] {
		background-color: theme('colors.teal.50');
		border-radius: theme('space.1');
		padding: 0 theme('space.1');
		color: theme('colors.teal.500');
		font-weight: 500;
		cursor: pointer;
		border: 1px solid theme('colors.teal.100');
	}

	[data-type='citation']:hover {
		background-color: theme('colors.teal.100');
	}

	[data-type='citation'].ProseMirror-selectednode {
		text-decoration: underline;
	}
}

.tiptap {
	ul,
	ol {
		list-style: reset;
		padding: 0 1rem;
		margin: 1.25rem 1rem 1.25rem 0.4rem;

		li p {
			margin-top: 0.25em;
			margin-bottom: 0.25em;
		}
	}

	ul li {
		list-style-type: disc;
	}

	ol li {
		list-style-type: decimal;
	}
	blockquote {
		border-left: 3px solid var(--color-teal-700);
		margin: 1.5rem 0;
		padding-left: 1rem;
	}
	code {
		background-color: var(--color-slate-700);
		border-radius: 0.4rem;
		color: var(--color-orange-500);
		font-size: 0.85rem;
		padding: 0.25em 0.3em;
	}

	pre {
		background: var(--color-slate-800);
		border-radius: 0.5rem;
		color: var(--color-orange-100);
		font-family: 'JetBrainsMono', monospace;
		margin: 1.5rem 0;
		padding: 0.75rem 1rem;

		code {
			background: none;
			color: inherit;
			font-size: 0.8rem;
			padding: 0;
		}
	}
	.tiptap-link {
		color: var(--color-teal-800);
		text-decoration: underline;

		&:hover {
			color: var(--color-teal-600);
		}
	}

	img {
		display: block;
		height: auto;
		margin: 1.5rem 0;
		max-width: 100%;

		&.ProseMirror-selectednode {
			outline: 3px solid var(--color-teal-500);
		}
	}

	table {
		border-collapse: collapse;
		margin: 0;
		table-layout: fixed;
		max-width: 100%;

		td,
		th {
			border: 1px solid var(--color-orange-600);
			min-width: 1em;
			padding: 6px 8px;
			position: relative;
			vertical-align: top;

			> * {
				margin-bottom: 0;
			}
		}
    

		.selectedCell::after {
			background: red;
			opacity: 0;
			content: '';
			left: 0;
			right: 0;
			top: 0;
			bottom: 0;
			pointer-events: none;
			position: absolute;
			z-index: 500;
		}

		th {
			background-color: var(--color-orange-200);
			font-weight: bold;
			text-align: left;
		}

		.column-resize-handle {
			background-color: var(--color-orange-700);
			bottom: -2px;
			pointer-events: none;
			position: absolute;
			right: -2px;
			top: 0;
			width: 4px;
		}
	}

	.tableWrapper {
		margin: 1.5rem 0;
		overflow: auto;
		max-width: 100%;
		will-change: transform;
	}

	&.resize-cursor {
		cursor: ew-resize;
		cursor: col-resize;
	}
}
